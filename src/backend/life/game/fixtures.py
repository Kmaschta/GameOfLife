import sys
from .cell import new_cell

available_fixtures = ['generator', 'eyes', 'fleet']


generator = """
...............................
...............................
...............................
......................X........
.....................X.X.......
....................XXXXX......
...............................
....................X...X......
...................XX...XX.....
..................X.X...X.X....
...................XX...XX.....
....................X...X......
...............................
....................XXXXX......
.....................X.X.......
......................X........
"""


eyes = """
..........................................................
..........................................................
..........................................................
..........................................................
..........................................................
..........................................................
..................XXX.....................................
...............XXX...XXX.........................XXXXX....
.............XXXX.....XXXX...................XXXXX...XXXXX
...............XXX...XXX.........................XXXXX....
..................XXX.....................................
..........................................................
..........................................................
..........................................................
..........................................................
..................XXX.....................................
...............XXX...XXX.........................XXXXX....
.............XXXX.....XXXX...................XXXXX...XXXXX
...............XXX...XXX.........................XXXXX....
..................XXX.....................................
..........................................................
..........................................................
..........................................................
..........................................................
..........................................................
"""


fleet = """
..............................................................
....X.............X.............X.............X.............X.
.....X.............X.............X.............X.............X
...XXX...........XXX...........XXX...........XXX...........XXX
..............................................................
..............................................................
..............................................................
..............................................................
....X.............X.............X.............X.............X.
.....X.............X.............X.............X.............X
...XXX...........XXX...........XXX...........XXX...........XXX
..............................................................
..............................................................
..............................................................
..............................................................
....X.............X.............X.............X.............X.
.....X.............X.............X.............X.............X
...XXX...........XXX...........XXX...........XXX...........XXX
..............................................................
..............................................................
..............................................................
..............................................................
....X.............X.............X.............X.............X.
.....X.............X.............X.............X.............X
...XXX...........XXX...........XXX...........XXX...........XXX
"""


def load_fixture(fixture_name = 'eyes'):
    if fixture_name in available_fixtures:
        fixture = getattr(sys.modules[__name__], fixture_name)
    else:
        fixture = eyes

    lines = fixture.split('\n')
    cells = []

    for y, line in enumerate(lines):
        for x, char in enumerate(line):
            if char == 'X':
                cells.append(new_cell(x, y, 'alive'));

    return cells
